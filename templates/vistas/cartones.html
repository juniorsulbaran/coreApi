<style>
    /* Estilos para el modal */
    .modal {
      display: none; /* Ocultar el modal por defecto */
      position: fixed; /* Posición fija */
      z-index: 1; /* Por encima de todo */
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto; /* Habilitar desplazamiento si es necesario */
      background-color: rgba(0, 0, 0, 0.5); /* Fondo semitransparente */
    }
    
    .modal-contenido {
      background-color: #fefefe;
      margin: 15% auto; /* Centrar vertical y horizontalmente */
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
    }
    
    .cerrar {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }
    
    .cerrar:hover,
    .cerrar:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }

    .centerBoton {
        display: flex;
        align-items: center;
        justify-content: center;
    }
</style>

<div id="container" class="container">
    <div class="col-md-10"> 
        
        {% for result in opcionesJson %}
        <div class="row">
            <table class="table table-bordered bingo-table">
                <thead>
                    <tr>
                        <th class="text-center" style="background-color: #FA973E;border: 1px solid #FA973E;">B</th>
                        <th class="text-center" style="background-color: #FA973E;border: 1px solid #FA973E;">I</th>
                        <th class="text-center" style="background-color: #FA973E;border: 1px solid #FA973E;">N</th>
                        <th class="text-center" style="background-color: #FA973E;border: 1px solid #FA973E;">G</th>
                        <th class="text-center" style="background-color: #FA973E;border: 1px solid #FA973E;">O</th>
                     </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="text-center" style="border: 1px solid #FA973E;" >
                            <table class="table table-bordered bingo-table"> 
                                <tr>
                                    <td style="background-color: #FEFEFE; border: 1px solid #FA973E; font-size:8px;"><strong>{{ result['fecha'] }}</strong></td>
                                </tr>
                            </table>
                        </td>   
                        <td style="border: 1px solid #FA973E;">
                            <table class="table table-bordered bingo-table"> 
                                <tr> 
                                    <td class="text-center" style="background-color: #FEFEFE;border: 1px solid #FA973E; font-size:8px;"><strong>{{ result['hora'] }}</strong></td>
                                </tr>
                            </table>
                        </td>
                        <td style="border: 1px solid #FA973E;">
                            <table class="table table-bordered bingo-table"> 
                                <tr>
                                    <td class="text-center" style="background-color: #FEFEFE;border: 1px solid #FA973E; font-size:8px;"><strong>{{ result['serial'] }}</strong></td>
                                </tr>
                            </table>
                        </td>
                        <td style="border: 1px solid #FA973E;">
                            <table class="table table-bordered bingo-table"> 
                                <tr>
                                    {% if result['venta']  == 0 %}
                                    <td class="text-center" style="background-color: #5DF705;border: 1px solid #FA973E;font-size:8px;"><strong>O</strong></td>
                                    {% else %}
                                    <td class="text-center" style="background-color: #5DF705;border: 1px solid #80404;"><strong>|</strong></td>
                                    {% endif %}
                                </tr>
                            </table>
                        </td> 
                        <td style="border: 1px solid #FA973E;">
                            <table class="table table-bordered bingo-table"> 
                                <tr>
                                    <td class="text-center" style="background-color: #FEFEFE;border: 1px solid #FA973E;font-size:10px;"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="17" fill="currentColor" class="bi bi-coin" viewBox="0 0 16 16" onclick="comprar('{{ result['serial'] }}')">
                                        <path d="M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518z"/>
                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                        <path d="M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11m0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12"/>
                                      </svg></td>
                                </tr>
                            </table>
                        </td>  
                    </tr>
                </tbody>
            </table>        
            <table class="table table-bordered bingo-table" style="margin-top:-35px">  
            <tbody>
                <tr>
                <td style="background-color: #FA973E; border: 1px solid #FA973E;">
                    <table class="table table-bordered bingo-table">
                    {% for items1 in result['B'] %}
                    <tr>
                        <td class="text-center" style="background-color: #FEFEFE;border: 1px solid #FA973E;"><strong>{{ items1 }}</strong> </td>
                    </tr>
                    {% endfor %}
                    </table>     
                </td>
                <td style="background-color: #FA973E; border: 1px solid #FA973E;">
                    <table class="table table-bordered bingo-table">
                        {% for items2 in result['I'] %}
                        <tr>
                            <td class="text-center" style="background-color: #FEFEFE;border: 1px solid #FA973E;"><strong>{{ items2 }}</strong> </td>
                        </tr>
                        {% endfor %}
                    </table> 
                </td>
                <td style="background-color: #FA973E; border: 1px solid #FA973E;">
                    <table class="table table-bordered bingo-table">
                        {% for items3 in result['N'] %}
                        <tr>
                            <td class="text-center" style="background-color: #FEFEFE;border: 1px solid #FA973E;"><strong>{{ items3 }}</strong></td>
                        </tr>
                        {% endfor %}
                    </table> 
                </td>
                <td style="background-color: #FA973E;border: 1px solid #FA973E;">
                    <table class="table table-bordered bingo-table">
                        {% for items4 in result['G'] %}
                        <tr>
                            <td class="text-center" style="background-color: #FEFEFE;border: 1px solid #FA973E;"><strong>{{ items4 }}</strong> </td>
                        </tr>
                        {% endfor %}
                    </table> 
                </td>
                <td style="background-color: #FA973E;border: 1px solid #FA973E;">
                    <table class="table table-bordered bingo-table">
                        {% for items5 in result['O'] %}
                        <tr>
                            <td class="text-center" style="background-color: #FEFEFE;border: 1px solid #FA973E;"><strong>{{ items5 }}</strong> </td>
                        </tr>
                        {% endfor %}
                    </table> 
                </td>
              </tr>
            </tbody>
        </table>
        </div>
        {% endfor %}   
    </div>
    <div id='validacionCompra' style="display:none;">
        <p>Por Favor Realice un capture de su carton</p>
        <p>Enviar al WhatsApp: (0424) 228.18.74 para validar su compra</p>
        <button type="button" id="home"  class="btn btn-primary btn-sm text-center">Inicio</button>
        <button type="button" id="listacartones" class="btn btn-primary btn-sm text-center">Cartones</button>
    </div>
    <div id="miModal" class="modal">
        <div class="modal-contenido">
          <span class="cerrar" id="cerrarModal">&times;</span>
            <div class="col-md-10">    
                <strong>Datos de Compra</strong>
            </div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-8"> 
                        <label>Serial del Carton</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8"> 
                        <input type="text" id="serial1" name="serial1" class="form-control text-center" disabled/>
                        <input type="hidden" id="serial" name="serial" class="form-control text-center" />
                    </div>
                </div>
            </div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-8"> 
                        <label>Monto</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8"> 
                        <input type="text" id="monto1" name="monto1" class="form-control text-center" disabled/>
                        <input type="hidden" id="monto" name="monto" class="form-control text-center" />
                    </div>
                </div>
            </div>
            <br>
            <div class="col-md-8">
                <div class="row">
                    <div class="col-md-8"> 
                        <strong>Forma de Pago: PagoMovil</strong>
                        <button type="button" id="datosPago" class="btn btn-primary btn-sm">ver</button>
                    </div>
                </div>
            </div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-8"> 
                        <label>Referencia</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8"> 
                        <input type="text" id="referencia" name="referencia" class="form-control text-center" onkeypress="validarNumero(event)" maxlength="12" title="Por favor ingresar los 12 digitos de la referencia" />
                        <p id="mensajeValidacion"></p>
                    </div>
                </div>
            </div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-8"> 
                        <label>Codigo banco</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8"> 
                        <input type="text" id="codigoBanco" name="codigoBanco" class="form-control text-center" onkeypress="validarNumeroBanco(event)" maxlength="4" />
                        <p id="mensajeValidacionBanco"></p>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="row">
                    <div class="col-md-8"> 
                        <strong>Recibir Premio: PagoMovil</strong>
                    </div>
                </div>
            </div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-8"> 
                        <label>Numero de Cedula:</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8"> 
                        <input type="text" id="cedulaPremio" name="cedulaPremio" class="form-control text-center" onkeypress="validarNumero(event)" maxlength="8" title="Por favor ingresar los 12 digitos de la referencia" />
                        <p id="mensajeValidacion"></p>
                    </div>
                </div>
            </div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-8"> 
                        <label>Codigo banco</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8"> 
                        <input type="text" id="bancoPremio" name="bancoPremio" class="form-control text-center" onkeypress="validarNumeroBanco(event)" maxlength="4" />
                        <p id="mensajeValidacionBanco"></p>
                    </div>
                </div>
            </div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-8"> 
                        <label>Telefono</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8"> 
                        <input type="text" id="telefonoPremio" name="telefonoPremio" class="form-control text-center" onkeypress="validarNumeroBanco(event)" maxlength="15" />
                        <p id="mensajeValidacionBanco"></p>
                    </div>
                </div>
            </div>
            <p> <strong> Reglas del Juego: </strong> </p>
            <p> La Modalida sera Carton lleno </p>
            <p> El Premio se enviara al pago movil registrado con esta compra. </p>
            <p> No se negociara el envio de premio a otros pago movil distinto </p>
            <p> El sorteo solo se realizara con el 35% minimo de los ticket vendidos </p>
            <p> De no cumplir con el 35% de los tickets vendido, se reprograma la hora del sorteo, hasta llegar al minimo de tickets vendidos </p>
            <p> No se realizan Pagos ni cobros en efectivo, solo se recibe al pago movil dispuesto </p>
            <br>
            <div class="centerBoton">
                <button type="button" id="compra" class="btn btn-primary btn-sm text-center" onclick="comprarCarton()">Comprar Carton</button>
            </div>    
        </div> 
    </div>   
</div>

<div id="pagoMovil" class="modal">
  <div class="modal-contenido">
    <span class="cerrar" id="cerrarModalPago">&times;</span>
    <p><strong>Datos del Pago Movil</strong></p>
    <img src="{{ url_for('static', filename='image/pagomovil.jpg') }}" class="card-img-top" alt="...">
  </div>
</div>
<script>
// Obtener elementos del DOM
var modaldatos = document.getElementById('pagoMovil');
var btnAbrir = document.getElementById('datosPago');
var btnCerrar = document.getElementById('cerrarModalPago');
var btnHome = document.getElementById('home');
var btnListaCartones = document.getElementById('listacartones');

// listamos los cartones
btnListaCartones.onclick = function(){
    listarCartones()
}
// redireccionar al home
btnHome.onclick = function(){
    window.location.href = "/";
}
// Asociar evento de clic al botón de abrir
btnAbrir.onclick = function(){
    modaldatos.style.display = 'block';
}
// Asociar evento de clic al botón de cerrar
btnCerrar.onclick = function() {
    modaldatos.style.display = 'none';
}
// Cerrar el modal si el usuario hace clic fuera de él
window.onclick = function(event) {
  if (event.target == modaldatos) {
    modaldatos.style.display = 'none';
  }
}
</script>

